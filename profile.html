<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Profile | Valiant Vision</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Lora:wght@400;700&display=swap" rel="stylesheet">

<style>
:root {
  --vv-green: #76b900;
  --vv-purple: #4300b9;
  --vv-bg: #f4f4f7;
  --shadow: 0 10px 30px rgba(0,0,0,.08);
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: 'Lora', serif;
  background: var(--vv-bg);
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  padding: 40px 20px;
}
.profile-card {
  background: #fff;
  padding: 32px;
  border-radius: 18px;
  box-shadow: var(--shadow);
  max-width: 600px;
  width: 100%;
}
.profile-card h1 {
  font-family: 'Montserrat', sans-serif;
  font-weight: 800;
  font-size: 1.8rem;
  color: var(--vv-purple);
  margin-bottom: 20px;
  text-align: center;
}
.profile-field {
  margin-bottom: 12px;
}
.profile-field strong {
  color: var(--vv-purple);
  font-family: 'Montserrat', sans-serif;
}
.profile-avatar {
  display: block;
  max-width: 150px;
  max-height: 150px;
  margin: 0 auto 20px auto;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid var(--vv-green);
}
</style>
</head>
<body>

<div class="profile-card" id="profileCard">
  <h1>Your Profile</h1>
  <img src="" id="avatarImg" class="profile-avatar" style="display:none;">
  <div id="profileFields"></div>
</div>

<script>
// Check if subscribed
if(localStorage.getItem("subscribed") !== "true"){
  alert("⚠️ No subscription found! Redirecting to Subscribe page.");
  window.location.href = "subscribe.html";
} else {
  const data = JSON.parse(localStorage.getItem("userProfile"));

  // Avatar
  if(data.avatar){
    const avatarImg = document.getElementById("avatarImg");
    avatarImg.src = data.avatar;
    avatarImg.style.display = "block";
  }

  const profileFields = document.getElementById("profileFields");
  const fieldOrder = [
    {label: "Full Name", key: "name"},
    {label: "Email", key: "email"},
    {label: "Phone", key: "phone"},
    {label: "State", key: "state"},
    {label: "Country", key: "country"},
    {label: "Class", key: "class"},
    {label: "School", key: "school"},
    {label: "Skills", key: "skills"},
    {label: "Hobbies", key: "hobbies"},
    {label: "Achievements", key: "achievements"}
  ];

  fieldOrder.forEach(f => {
    if(f.key in data && data[f.key].trim() !== ""){
      const div = document.createElement("div");
      div.className = "profile-field";
      div.innerHTML = `<strong>${f.label}:</strong> ${data[f.key]}`;
      profileFields.appendChild(div);
    }
  });
}
</script>

</body>
</html>
